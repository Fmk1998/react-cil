import {APICATEGORY, CURRENT_MENU, SIDEBAR} from "../action-types"import {RoutesMapping} from "../../routes.config";import {sequlizeURL} from "../../utils/echo";const initState: object = {    list: [], // 所有菜单数据    sideList: [], // 左侧菜单    currentMenu: '', // 当前菜单数据    threeDupMenu: [],// 根据所有菜单数据循环出第三级的路由菜单数据,平铺    hashMenuMapping: {}, // 路有关系映射表}export default function menuReducer(state = initState, action: any) {    switch (action.type) {        case APICATEGORY.QUERY:            let tData: object[] = [];            let hashMenu: any = {};            if (action.payload.data) {                action.payload.data.forEach((one: { children: [] }) => {                    if (one.children) { // 二级数据                        one.children.forEach((two: any) => {                            if (two.children) {                                two.children.forEach((value: any) => {                                    hashMenu[sequlizeURL(value[RoutesMapping.url])] = {                                        parent: one.children,                                        child: two.children,                                        key: two[RoutesMapping.key]                                    };                                    tData.push(value)                                })                            }                        })                    }                })            }            return Object.assign({}, state, {                list: action.payload.data,                threeDupMenu: tData,                hashMenuMapping: hashMenu            });        case SIDEBAR:            return Object.assign({}, state, {sideList: action.payload});        case CURRENT_MENU:            return Object.assign({}, state, {currentMenu: action.url});        default:            return state;    }}